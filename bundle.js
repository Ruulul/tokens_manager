!function n(e,t,o){function c(a,i){if(!t[a]){if(!e[a]){var u="function"==typeof require&&require;if(!i&&u)return u(a,!0);if(r)return r(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var m=t[a]={exports:{}};e[a][0].call(m.exports,(function(n){return c(e[a][1][n]||n)}),m,m.exports,n,e,t,o)}return t[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)c(o[a]);return c}({1:[function(n,e,t){const o={generateId:(n=>{let e=0;return(n="component",t)=>`${n}-${t??e++}`})(),handle_handle(n,e,t){e in n?n[e](t):console.trace("There is no handle for",e,", emitted by",t.head[0],"\nFull msg:",JSON.stringify(t))},make_listen:n=>function(e){o.handle_handle(n,e.type,e)},make_protocol(n,e){const t=o.make_listen(n);return function(n,o){e&&e(n,o);return t}}};e.exports=o},{}],2:[function(n,e,t){const o=n("./ui/Tracks");document.body.append(o({}))},{"./ui/Tracks":7}],3:[function(n,e,t){const{generateId:o,make_listen:c}=n("../component/Component"),r=n("./Component");e.exports=r((function(n,e){const t=e?e(c({}),o("ui-add-track")):void 0,r=document.createElement("button");r.textContent=n.text??"Add Track";t&&(r.onclick=async n=>{r.disabled=!0;await t({type:"new-track"});r.disabled=!1});return[r]}))},{"../component/Component":1,"./Component":4}],4:[function(n,e,t){e.exports=function(n){return function(e={},t){const o=new DocumentFragment;o.append(...n(e,t));return o}}},{}],5:[function(n,e,t){const o=n("./Component");e.exports=o((function(n={}){let e=n.value??0;const t=document.createElement("div");t.style.display="inline-block";t.style.margin="0.5em";const o=document.createElement("button");o.textContent="+";const c=document.createElement("button");c.textContent="-";const r=document.createElement("span");r.textContent=e;r.style.margin="0.5em";o.onclick=n=>{r.textContent=++e};c.onclick=n=>{r.textContent=--e};t.append(c,r,o);return[t]}))},{"./Component":4}],6:[function(n,e,t){const{make_listen:o,generateId:c}=n("../component/Component"),r=n("./Component"),a=n("./Counter");e.exports=r((function(n,e){const t=document.createElement("div"),r=c("ui-track"),i=e?e(o({}),r):void 0,u=document.createElement("input");u.placeholder="Track";u.textContent=n.label??"Track";const d=a(),m=document.createElement("button");m.textContent="X";m.onclick=n=>{i&&i({head:[r],type:"delete"});t.remove()};t.append(u,d,m);return[t]}))},{"../component/Component":1,"./Component":4,"./Counter":5}],7:[function(n,e,t){const{make_protocol:o}=n("../component/Component"),c=n("./Component"),r=n("./Track"),a=n("./AddTrack"),i=n=>o({"new-track"(e){const t=document.createElement("li");t.append(r(e.data,(n=>o({delete(e){const t=n.tracks_id.findIndex((n=>n===e.head[0]));n.list.children[t].remove();n.tracks_id.splice(t,1)}},((e,t)=>n.tracks_id.push(t))))(n)));n.list.append(t)}});e.exports=c((function(n){const e=document.createElement("ul");return[a({},i({list:e,tracks_id:[]})),e]}))},{"../component/Component":1,"./AddTrack":3,"./Component":4,"./Track":6}]},{},[2]);
